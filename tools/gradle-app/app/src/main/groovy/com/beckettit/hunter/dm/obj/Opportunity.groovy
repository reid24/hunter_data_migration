/*
 * This Groovy source file was generated by the Gradle 'init' task.
 */
package com.beckettit.hunter.dm.obj

import com.beckettit.Env
import com.beckettit.transform.*
import com.beckettit.process.Util
import com.beckettit.salesforce.*
import com.beckettit.salesforce.soap.*
import com.beckettit.jdbc.*

class Opportunity {

    public static ObjectDef getExtractObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"id", type:"varchar(20)", sfdcField: "Id"],
                [name:"external_id", type:"varchar(255) primary key", sfdcField: "External_ID__c"]
            ]
        )
        objDef.table = "ref_opportunity"
        objDef.sobjType = "Opportunity"
        objDef.soql = Util.getSOQL(objDef, "WHERE External_ID__c != NULL")
        return objDef
    }

    public static ObjectDef getInsertObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"Type", type:"varchar(255)", sfdcField: "Type"],
                [name:"Description", type:"varchar(255)", sfdcField: "Description"],
                [name:"External_ID__c", type:"varchar(255)", sfdcField: "External_ID__c"],
                [name:"CreatedById", type:"varchar(255)", sfdcField: "CreatedById"],
                [name:"Expected_Order_Date__c", type:"varchar(255)", sfdcField: "Expected_Order_Date__c"],
                [name:"CreatedDate", type:"varchar(255)", sfdcField: "CreatedDate"],
                [name:"Name", type:"varchar(255)", sfdcField: "Name"],
                [name:"Amount", type:"varchar(255)", sfdcField: "Amount"],
                [name:"OwnerId", type:"varchar(255)", sfdcField: "OwnerId"],
                [name:"estimated_irrigation__c", type:"varchar(255)", sfdcField: "estimated_irrigation__c"],
                [name:"won_loss_notes__c", type:"varchar(255)", sfdcField: "won_loss_notes__c"],
                [name:"won_loss_reason__c", type:"varchar(255)", sfdcField: "won_loss_reason__c"],
                [name:"AccountId", type:"varchar(255)", sfdcField: "AccountId", refExternalIdField:"External_ID__c"],
                [name:"StageName", type:"varchar(255)", sfdcField: "StageName"],
                [name:"CloseDate", type:"varchar(255)", sfdcField: "CloseDate"],
                [name:"forecasted_amount__c", type:"varchar(255)", sfdcField: "forecasted_amount__c"],
                [name:"estimated_lighting__c", type:"varchar(255)", sfdcField: "estimated_lighting__c"],
            ]
        )
        objDef.table = "mig_opportunity"
        objDef.sobjType = "Opportunity"
        objDef.externalIdField= "External_ID__c"
        return objDef
    }

    public static ObjectDef getUpdateObjectDef() {
        ObjectDef objDef = getInsertObjectDef()
        objDef.mapping.remove("CreatedById")
        objDef.mapping.remove("CreatedDate")
        return objDef
    }

}