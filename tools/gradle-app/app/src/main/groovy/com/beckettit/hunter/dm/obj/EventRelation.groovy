/*
 * This Groovy source file was generated by the Gradle 'init' task.
 */
package com.beckettit.hunter.dm.obj

import com.beckettit.Env
import com.beckettit.transform.*
import com.beckettit.process.Util
import com.beckettit.salesforce.*
import com.beckettit.salesforce.soap.*
import com.beckettit.jdbc.*

class EventRelation {

    public static ObjectDef getExtractObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"id", type:"varchar(20)", sfdcField: "Id"],
                [name:"event_id", type:"varchar(255)", sfdcField: "EventId"],
                [name:"event_external_id", type:"varchar(255)", sfdcField: "Event.External_ID__c"],
                [name:"relation_id", type:"varchar(255)", sfdcField: "RelationId"],
                [name:"relation_external_id", type:"varchar(255)"],
                [name:"unique_key", type:"varchar(255)"]
            ]
        )
        objDef.table = "ref_event_relation"
        objDef.sobjType = "EventRelation"
        objDef.soql = Util.getSOQL(objDef, "where Event.External_ID__c != null")
        return objDef
    }

    public static ObjectDef getInsertObjectDef(){
        //TODO
        ObjectDef objDef = new ObjectDef(
            [
            ]
        )
        objDef.table = "mig_event_relation"
        objDef.sobjType = "EventRelation"
        objDef.externalIdField= "Id"
        return objDef
    }

    public static ObjectDef getUpdateObjectDef() {
        ObjectDef objDef = getInsertObjectDef()
        objDef.mapping.remove("CreatedById")
        objDef.mapping.remove("CreatedDate")
        return objDef
    }

}