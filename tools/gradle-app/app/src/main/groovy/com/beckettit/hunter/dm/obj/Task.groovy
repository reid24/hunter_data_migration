/*
 * This Groovy source file was generated by the Gradle 'init' task.
 */
package com.beckettit.hunter.dm.obj

import com.beckettit.Env
import com.beckettit.transform.*
import com.beckettit.process.Util
import com.beckettit.salesforce.*
import com.beckettit.salesforce.soap.*
import com.beckettit.jdbc.*

class Task {

    public static ObjectDef getExtractObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"id", type:"varchar(20)", sfdcField: "Id"],
                [name:"external_id", type:"varchar(255) primary key", sfdcField: "External_ID__c"]
            ]
        )
        objDef.table = "ref_task"
        objDef.sobjType = "Task"
        objDef.soql = Util.getSOQL(objDef, "WHERE External_ID__c != NULL AND IsDeleted = FALSE")
        return objDef
    }

    public static ObjectDef getInsertObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"Description", type:"varchar(255)", sfdcField: "Description"],
                [name:"ActivityDate", type:"varchar(255)", sfdcField: "ActivityDate"],
                [name:"External_ID__c", type:"varchar(255)", sfdcField: "External_ID__c"],
                [name:"Subject", type:"varchar(255)", sfdcField: "Subject"],
                [name:"CreatedById", type:"varchar(255)", sfdcField: "CreatedById"],
                [name:"sfdc_whoid", type:"varchar(255)", sfdcField: "WhoId"],
                // [name:"LastModifiedDate", type:"varchar(255)", sfdcField: "LastModifiedDate"],
                [name:"CreatedDate", type:"varchar(255)", sfdcField: "CreatedDate"],
                [name:"OwnerId", type:"varchar(255)", sfdcField: "OwnerId"],
                [name:"Status", type:"varchar(255)", sfdcField: "Status"]
            ]
        )
        objDef.table = "mig_task"
        objDef.sobjType = "Task"
        objDef.externalIdField= "External_ID__c"
        return objDef
    }

    public static ObjectDef getUpdateObjectDef() {
        ObjectDef objDef = getInsertObjectDef()
        objDef.mapping.remove("CreatedById")
        objDef.mapping.remove("CreatedDate")
        return objDef
    }
}