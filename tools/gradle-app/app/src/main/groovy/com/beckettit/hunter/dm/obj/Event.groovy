/*
 * This Groovy source file was generated by the Gradle 'init' task.
 */
package com.beckettit.hunter.dm.obj

import com.beckettit.Env
import com.beckettit.transform.*
import com.beckettit.process.Util
import com.beckettit.salesforce.*
import com.beckettit.salesforce.soap.*
import com.beckettit.jdbc.*

class Event {

    public static ObjectDef getExtractObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"id", type:"varchar(20)", sfdcField: "Id"],
                [name:"external_id", type:"varchar(255) primary key", sfdcField: "External_ID__c"]
            ]
        )
        objDef.table = "ref_event"
        objDef.sobjType = "Event"
        objDef.soql = Util.getSOQL(objDef, "WHERE External_ID__c != NULL AND IsDeleted = FALSE")
        return objDef
    }

    public static ObjectDef getInsertMeetingsObjectDef(){
        ObjectDef objDef = new ObjectDef(
            [
                [name:"Description", type:"varchar(255)", sfdcField: "Description"],
                [name:"External_ID__c", type:"varchar(255)", sfdcField: "External_ID__c"],
                [name:"Subject", type:"varchar(255)", sfdcField: "Subject"],
                [name:"CreatedById", type:"varchar(255)", sfdcField: "CreatedById"],
                [name:"EndDateTime", type:"varchar(255)", sfdcField: "EndDateTime"],
                [name:"sfdc_whoid", type:"varchar(255)", sfdcField: "WhoId"],
                [name:"CreatedDate", type:"varchar(255)", sfdcField: "CreatedDate"],
                [name:"OwnerId", type:"varchar(255)", sfdcField: "OwnerId"],
                [name:"StartDateTime", type:"varchar(255)", sfdcField: "StartDateTime"],
            ]
        )
        objDef.table = "mig_meeting"
        objDef.sobjType = "Event"
        objDef.externalIdField= "External_ID__c"
        return objDef
    }

    public static ObjectDef getUpdateMeetingsObjectDef() {
        ObjectDef objDef = getInsertMeetingsObjectDef()
        objDef.mapping.remove("CreatedById")
        objDef.mapping.remove("CreatedDate")
        objDef.mapping.put("id", [name:"id", type:"varchar(255)", sfdcField:"Id"])
        return objDef
    }

    public static ObjectDef getInsertCallsObjectDef(){
        ObjectDef objDef = getInsertMeetingsObjectDef()
        objDef.table = "mig_call"
        return objDef
    }

    public static ObjectDef getUpdateCallsObjectDef() {
        ObjectDef objDef = getUpdateMeetingsObjectDef()
        objDef.table = "mig_call"
        return objDef
    }
}